import{u as m,E as V,D as f,c as n,a as h,o as r,b as i,d as e,t as v,q as y,l as g,y as A,G as T,F as k,k as w,B as x}from"./vendor.6aecaf39.js";import{_ as D,v as u,A as a,l as _,P as d}from"./index.2ed6b847.js";const E={name:"Vault",setup(){const l=m(),o=V();return f(async()=>{try{await u.GetActiveVault(l.params.id),await u.GetCurrentVaultKeeps(l.params.id),console.log("MADE IT THROUGH THE TRY")}catch(s){console.log("MADE IT THROUGH THE CATCH"),a.ActiveVault.id==null&&(console.log("I MADE IT INSIDE THE IF"),o.push({name:"Home"})),_.error(s),d.toast(s,"error")}}),{vaults:n(()=>a.myVaults),keeps:n(()=>a.CurrentVaultKeeps),vault:n(()=>a.ActiveVault),isThisYourVault:n(()=>a.account.id==a.ActiveVault.creatorId&&a.account.id!=null),async deleteVault(){try{await d.confirm(`Are you sure you want to delete ${a.ActiveVault.name}`)&&(await u.DeleteVault(l.params.id),o.push({name:"Account"}))}catch(s){_.log(s),d.toast(s,"error")}}}}},H={class:"container"},I={class:"row"},b={class:"col-12"},C={class:"d-flex justify-content-between m-3"},P={class:"display-4 fw-bold"},B={class:"display-6 fst-italic"},G={key:0},K={class:"d-flex flex-column justify-content-center"},R={class:"col-12"},S={class:"masonry-container"};function j(l,o,s,t,M,N){const p=h("Keep");return r(),i("div",null,[e("div",H,[e("div",I,[e("div",b,[e("div",C,[e("div",null,[e("div",P,v(t.vault.name),1),e("div",B,[y(" Keeps: "+v(t.keeps.length)+" ",1),t.vault.isPrivate?(r(),i("span",G," - Private ")):g("",!0)])]),e("div",K,[A(e("button",{title:"delete vault",onClick:o[0]||(o[0]=(...c)=>t.deleteVault&&t.deleteVault(...c)),class:"btn btn-outline-danger"}," Delete Vault ",512),[[T,t.isThisYourVault]])])])]),e("div",R,[e("div",null,[e("div",S,[(r(!0),i(k,null,w(t.keeps,c=>(r(),x(p,{keep:c,vaults:t.vaults,activeVault:t.vault,class:"masonry-item"},null,8,["keep","vaults","activeVault"]))),256))])])])])])])}var O=D(E,[["render",j],["__scopeId","data-v-370fa90d"]]);export{O as default};
